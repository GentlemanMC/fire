package dev.zprestige.fire.module.exploit.chorusmanipulator

import dev.zprestige.fire.event.bus.EventListener
import dev.zprestige.fire.event.impl.FrameEvent.FrameEvent3D
import dev.zprestige.fire.util.impl.RenderUtil
import net.minecraft.util.math.AxisAlignedBB

class Frame3DListener(chorusManipulator: ChorusManipulator) : EventListener<FrameEvent3D, ChorusManipulator>(
    FrameEvent3D::class.java, chorusManipulator
) {
    override fun invoke(e: Any) {
        if (module.pos != null) {
            val bb = AxisAlignedBB(module.pos!!)
            RenderUtil.drawBBBoxWithHeight(bb, module.boxColor.GetColor(), 2f)
            RenderUtil.drawBlockOutlineBBWithHeight(bb,
                module.outlineColor.GetColor(),
                module.lineWidth.GetSlider(),
                2f
            )
        }
    }
}