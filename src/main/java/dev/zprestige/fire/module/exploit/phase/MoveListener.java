package dev.zprestige.fire.module.exploit.phase;

import dev.zprestige.fire.event.bus.EventListener;
import dev.zprestige.fire.event.impl.MoveEvent;

public class MoveListener extends EventListener<MoveEvent, Phase> {

    public MoveListener(final Phase phase) {
        super(MoveEvent.class, phase);
    }

    @Override
    public void invoke(final Object object) {
        final MoveEvent event = (MoveEvent) object;
        if (module.teleportId != 0) {
            event.setMotion(mc.player.motionX, mc.player.motionY, mc.player.motionZ);
        }
        if (!mc.world.getCollisionBoxes(mc.player, mc.player.getEntityBoundingBox()).isEmpty()) {
            mc.player.noClip = true;
        }
    }
}
