package dev.zprestige.fire.module.exploit.phase

import dev.zprestige.fire.event.bus.EventListener
import dev.zprestige.fire.event.impl.MoveEvent

class MoveListener(phase: Phase) : EventListener<MoveEvent, Phase>(
    MoveEvent::class.java, phase
) {
    override fun invoke(e: Any) {
        val event = e as MoveEvent
        if (module.teleportId != 0) {
            event.setMotion(mc.player.motionX, mc.player.motionY, mc.player.motionZ)
        }
        if (mc.world.getCollisionBoxes(mc.player, mc.player.entityBoundingBox).isNotEmpty()) {
            mc.player.noClip = true
        }
    }
}